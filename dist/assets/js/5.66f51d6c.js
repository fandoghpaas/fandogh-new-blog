(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{155:function(e,t,s){"use strict";s.r(t);var a=s(0),n=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("p",[e._v("وردپرس یک سیستم مدیریت محتوای بسیار پرطرفدار است که می‌توانید به سادگی روی پلتفرم فندق deploy و استفاده کنید. در این مطلب قصد داریم با هم مراحل deploy کردن وردپرس روی فندق را مرور کنیم.")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("نکته")]),e._v(" "),s("p",[e._v("اگر حوصله خواندن ندارید می‌توانید\n"),s("a",{attrs:{href:"https://github.com/fandoghpaas/fandogh-examples/tree/master/wordpress-mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("از این ریپو"),s("OutboundLink")],1),e._v("\nاستفاده کنید 😄")])]),e._v(" "),e._m(2),e._v(" "),s("p",[e._v("کافیه یک سر به آدرس "),s("a",{attrs:{href:"http://fandogh.cloud/",target:"_blank",rel:"noopener noreferrer"}},[e._v("فندق"),s("OutboundLink")],1),e._v(" بزنید و روی دکمه ثبت‌نام کلیک کنید، فکر نمی‌کنم بیشتر از ۱ دقیقه طول بکشه.\nشما برای ارسال دستوراتتون به فندق، به کلاینت فندق یا همون "),s("a",{attrs:{href:"https://github.com/fandoghpaas/fandogh-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fandogh CLI"),s("OutboundLink")],1),e._v(" هم نیاز دارید که از طریق همین لینک می‌توانید به راحتی نصبش کنید، یا به "),s("a",{attrs:{href:"http://blog.fandogh.cloud/articles/fandogh-introduction.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("معرفی فندق"),s("OutboundLink")],1),e._v(" مراجعه کنید.")]),e._v(" "),e._m(3),e._v(" "),s("p",[e._v("ما در فندق یک قابلیتی ارائه میدیم به نام managed-service که کمک می‌کنه سرویس‌های رایج را ساده‌تر deploy کنید.\nمراحل کار به این شکل هستش:")]),e._v(" "),s("p",[e._v("قبل از هر چیز لازمه که لاگین کنیم")]),e._v(" "),e._m(4),s("p",[e._v("deploy کردن یک managed-service فقط یک دستور لازم داره، به شرطی که اسم و ورژن سرویسی که میخواید deploy کنید را بدانید، مثلا برای deploy MySQL ورژن 9.4 دستور زیر کفایت می‌کنه:")]),e._v(" "),e._m(5),s("p",[e._v("وقتی دستور را اجرا می‌کنید باید چنین خروجی مشاهده کنید:")]),e._v(" "),e._m(6),s("p",[e._v("اگر پیغام بالا را مشاهده کردید یعنی سرویس MySQL شما با موفقیت راه‌اندازی شده.")]),e._v(" "),s("p",[e._v("اما حالا که داریم با managed-service کار می‌کنیم بذارید راجع به چند تا از ویژگی‌های قابل اعمال هم صحبت کنیم.\nهمون طور که\n"),s("a",{attrs:{href:"https://github.com/fandoghpaas/fandogh-cli#configuration",target:"_blank",rel:"noopener noreferrer"}},[e._v("اینجا مستند شده"),s("OutboundLink")],1),e._v("\nشما برای deploy کردن MySQL یه سری گزینه قابل تنظیم دارید:")]),e._v(" "),e._m(7),e._v(" "),s("p",[e._v("برای اینکه یک سری از امکانات دیگه فندق را هم ببینیم توی این ‌آموزش ما قصد نداریم از PHPMyAdmin استفاده کنیم، پس اجازه بدید به این شکل سرویس MySQL را ایجاد کنیم:")]),e._v(" "),e._m(8),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),s("p",[e._v("fandogh image init")]),e._v(" "),e._m(12),s("p",[e._v("fandogh image publish")]),e._v(" "),e._m(13),s("p",[e._v("fandogh image versions")]),e._v(" "),e._m(14),s("p",[e._v("fandogh service deploy -e WORDPRESS_DB_HOST=my-database -e WORDPRESS_DB_USER=root -e WORDPRESS_DB_PASSWORD=somepassword -e WORDPRESS_DB_NAME=wp")]),e._v(" "),e._m(15),s("p",[e._v("The image version: v1\nYour service name: mywp\nYour service deployed successfully.\nThe service is accessible via following link:\nhttp://[YOUR-SERVICE-NAME].[YOUR-NAMESPACE].fandogh.cloud")]),e._v(" "),e._m(16)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"خلاصه-مراحل"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#خلاصه-مراحل","aria-hidden":"true"}},[this._v("#")]),this._v(" خلاصه مراحل")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("یک حساب کاربری در فندق ساخته و فندق cli ‌را نصب کنید")]),this._v(" "),t("li",[this._v("یک سرویس MySQL ‌از طریق دستور managed-service ‌ایجاد کنید.")]),this._v(" "),t("li",[this._v("یک داکر فایل برای وردپرس نوشته و روی فندق publish کنید.")]),this._v(" "),t("li",[this._v("با set کردن صحیح environment variables وردپرس را deploy کنید.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"قدم-اول-ساخت-اکانت-فندق-و-نصب-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#قدم-اول-ساخت-اکانت-فندق-و-نصب-cli","aria-hidden":"true"}},[this._v("#")]),this._v(" قدم اول: ساخت اکانت فندق و نصب CLI")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"قدم-دوم-ساخت-سرویس-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#قدم-دوم-ساخت-سرویس-mysql","aria-hidden":"true"}},[this._v("#")]),this._v(" قدم دوم: ساخت سرویس MySQL")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("fandogh login\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("fandogh managed-service deploy mysql 9.4\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("Your Mysql service will be ready in a few seconds.\nYou can have access to the PHPMyAdmin via following link:\nhttp://mysql.[YOURNAMESPACE].fandogh.cloud\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("p",[this._v("service_name\nهمون طور که توی مستندات فندق هست، همه سرویس‌هایی که داخل یک namespace در حال اجرا هستند یک DNS داخلی دارند و سرویس‌های مختلف از طریق service_name می‌توانند همدیگر را پیدا کنند و به هم متصل بشوند.\nوقتی یک managed-service برای MySQL ایجاد می‌کنید اسم پیش‌فرضش mysql هستش، یعنی سرویس‌های دیگه باید توی شبکه دنبال نام mysql بگردند تا به آن وصل شوند، از طریق این گزینه می‌توانید اسم دیگه‌ای به آن نسبت بدید.")])]),this._v(" "),t("li",[t("p",[this._v("phpmyadmin_enabled\nاز طریق این گزینه می‌توانید PHPMyAdmin را فعال یا غیر فعال کنید")])]),this._v(" "),t("li",[t("p",[this._v("mysql_root_password\nاین هم از اسمش پیداست، میشه از طریقش پسورد روت MySQL را مشخص کرد")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("fandogh managed-service deploy mysql 9.4 -c service_name=my-database -c phpmyadmin_enabled=false -c mysql_root_password=somepassword\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"قدم-سوم-نوشتن-dockerfile-و-publish-کردن-وردپرس"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#قدم-سوم-نوشتن-dockerfile-و-publish-کردن-وردپرس","aria-hidden":"true"}},[this._v("#")]),this._v(" قدم سوم: نوشتن Dockerfile و publish کردن وردپرس")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("برای اینکار یک Directory بسازید روی سیستم خودتون، مثلا اسمش را می‌‌گذاریم my-wp-blog و وارد اون Directory بشید.\nیک فایل به نام "),t("code",[this._v("Dockerfile")]),this._v(" بسازید و تنها چیزی که لازمه داخلش بنویسید همینه:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("FROM wordpress\n\n```با اینکار ما یک Image کاملا مشابه با Image اصلی وردپرس ساختیم و از همون استفاده می‌کنیم، توضیحات مربوط به image اصلی وردپرس رو می‌توانید [اینجا](https://hub.docker.com/_/wordpress/) مشاهده کنید\nحالا در حالی که داخل اون Directory هستید باید فقط یک فایل داشته باشید به نام Dockerfile  با محتویاتی که بالاتر اشاره کردم، الان کافیه که اول image هاتون را روی فندق init کنید و بعد هم ورژن بزنید و publish کنید:\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("که از شما یک اسم می‌خواد،\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("که از شما ورژن می‌خواد\nاگر همه چیز خوب پیش بره باید وقتی لیست ورژن‌ها را میگیرید این ورژن وضعیتش `BUILT` باشه:\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("\n\n### قدم چهارم و آخر: deploy کردن وردپرس روی فندق\n\nبرای deploy کردن imageای که توی قدم قبلی ساختیم باید از کامند `service deploy‍` فندق استفاده کنیم، اما باید به وردپرس بگیم که کجا باید دنبال دیتابیس بگرده\nطبق داکرفایلی که نوشتیم تو قدم قبلی image ما براساس\n[ایمیج رسمی وردپرس](https://hub.docker.com/_/wordpress/)\n ساخته شده و ایمیج رسمی وردپرس یه سری environment variable دریافت می‌کنه.پارامتر‌هایی که برای ما مهم هستند، پارامتر‌های مربوط به دیتابیس هستند( البته لیست کاملش توی همین لینکی که گذاشتم هست)‌:\n* WORDPRESS_DB_HOST\n* WORDPRESS_DB_USER\n* WORDPRESS_DB_PASSWORD\n* WORDPRESS_DB_NAME\n\nما می‌تونیم موقع deploy سرویس این پارامتر‌ها را هم از طریق `-e` ست کنیم بنابر این کامندی که اجرا می‌کنیم میشه این:\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("مقدار هر کدوم از این متغیر‌ها را از روی مقادیری که موقع ساخت سرویس MySQL مشخص کردیم باید بردارید.\nبعد از اجرا از شما در مورد اینکه کدوم ورژن را مایلید deploy کنید می‌پرسه و اینکه اسم سرویستون چیه و اگر همه چیز خوب پیش بره خروجی مورد نظر این باید باشه:\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("اگر به آدرس بالا مراجعه کنید با صفحه نصب wordpress مواجه میشید و این یعنی سرویس وردپرس شما آماده است.\n\n\nممنون که همراه ما هستید، هر سوال یا مشکلی در مورد استفاده از فندق داشتید حتما توی قسمت\n[ایشو‌های گیت‌هاب ](https://github.com/fandoghpaas/fandogh-cli/issues)\nبا ما به اشتراک بگذارید، خوشحال میشیم نظرات و انتقادات شما را بشنویم.\n")])])])}],!1,null,null,null);n.options.__file="how-to-deploy-wordpress.md";t.default=n.exports}}]);